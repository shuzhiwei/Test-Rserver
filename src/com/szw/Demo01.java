package com.szw;

import org.rosuda.REngine.Rserve.RConnection;

public class Demo01 {
	public static void main(String[] args) {
		RConnection connection = null;
		try{
			String ip = "180.76.155.84";
			String address = "C:/bjrde/ARIMA/daily/RDE_nextday_forecast_java.R";
			
			//daily数据
			//String data="232,364.8,712.8,634.4,945.8,946.82,941.8,1022.4,236,136.8,305.6,440,587.2,56.8,388.8,148.8,853.6,630.4,576.8,806.4,753.6,624.8,621.6,664.8,766.4,788,100,1459.2,1432,1077.6,816,961.6,1222.4,1124.8,1777.6,1138.4,909.6,642.4,825.6,1128,1012,1104,659.2,748.8,902.4,1012.8,833.6,880.8,748,871.2,903.2,972,1861.6,486.4,1055.2,2570.4,486.4,1055.2,1583.2,1172.8,1684.8,691.2,1422.4,1673.6,1654.4,1494.4,1445.6,1215.2,1047.2,635.2,1242.6,1032.8,1677.6,1361.6,912,906.4,1210.4,1032,1211.2,1536,1752.8,1053.6,943.2,1232.8,1364.8,1280,1366.4,1224,1053.6,770.4,1182.87,1068.65,516.8,1470,1170,1050,1260,1350,1170,1350,1350,2460,1230,1350,1200,1530,1470,1320,1050,930,1170,1470,1290,1230,1350,1230,1950,1050,1470,1590,1440,1260,1140,1110,1470,1656,1350,1590,1560,1383,831,672,1392,1800,2235,2859,3596,3279,2670,2430,2640,2679,2604,2559,2877,2361,2205,1887,3561,3072,2196,1779,1920,2832,2295,2223,2664,3069,1872,2124,1395,2517,3045,3897,3465,3261,2919,3759,2517,2502,3645,2712,1983,2298,3939,3405,4113,4284,5238,4281,3951,5694,5202,5862,4470,4800,3444,4377,5715,5805,6903.015625,6105,5721,3294,2994,6219,5463,5781,6066,4089,3129,3210,5469,4917,3732,4191,4665,2511,2316,5175,5844,5628,5550,5637,2979,2814,5433,3651,5070,5496,5385,2730,2472,3480,4410,4752,4491,3222,2484,2358,5112,4731,4941,4356,3699,2205,1902.03125,3132,2859,3006,3441,3417,2007,1764,3111,3561,3525,3909,4299,2112,1677,1687,3204,3711,3801,3336,2106,1734,3276,3075,3039,3306,2757,1845,1518,3282,2544,2640,2193,2166,1935,2232,1368,1122,1071,1119,1212,1449,1527,2124,2346,1983,2385,1998,1710,1569,2322,2511,3306,2484,2439,1965,1695,2349,2433,2583,2690,2367,2269,2658,2646,2082,1896,1830,2544,2709,2670,2781,2823,2016,2148,6546,5070,4842,4926,5928,4017,4182,6162,5883,5658,5835,5364,3792,4326,6462,6147,7563,6804,6318,3765,3738,7836,5316,2382,6444,5811,4134,4584,7329,7503,8181,8127,7995,6423,5727,6969,7587,6837,6771,6603,5232.03125,4875,7152,4430,8676,7872,7452,3765,3879,4215,8625,8796,8796,7563,5616,5418,8850,8001,9414,9558,8346,6117,5151,8274,6753,7050,7224,6252,4998,6450,6376,10086,9801,9600,6333,7170,6174,9120,7599,8004,8517,8472,7107,6426,9720,8769,7944,8466,4372,7020,7710,6390,4770,3660,3780,3540,4260,3750,3720,3360,3570,4530,5370,5820,6390,5360,6960,6420,5370,5376,4590,3990,5910,7410,7710,6540,6930,4680,5430,5379,5329.99,3960,4200,5520,5940,4740,5130,4800,4590,3090,3240,2310,2220,3060,3060,3120,2970,2940,2370,2220,2970,3720,3030,2370,2220,2250,2880,3090,2970,2970,2910,3210,2370,2160,2940,2940,2970,3090,3000,2640,2520,3090,2940,2880,2910,2880,2820,2280,2190,2340,2910,2880,1440,1500,2220,3030,3060,3000,3120,3240,2730,2550,4140,4620,4650,3780,3720,2460,2550,3270,3060,3240,3960,3990,2850,2400,4140,4050,4350,4500,3750,2850,2490,5400,5910,5400,5130,4650,2970,2430,4440,4620,3900,4200,4260,2430,2310,2430,5160,5190,5250,5130,2370,2550,6270,6150,5700,5520,5100,2910,2580,6300,5730,6060,6240,5430,2910,2370,5910,5220,4410,4530,5100,2970,2880,5700,5310,5910,5820,6690,3390,2790,7320,6150,6420,6090,6180,3360,2820,8610,8130,7980,6763,8040,3750,2790,6780,6750,5880,6330,6420,3270,2760,6300,5940,5970,5460,5550,2880,2580,6270,5370,5100,5040,4950,2610,2550,6120,5520,5130,4680,4920,3060,2370,4920,4500,4680,4080,3900,2400,2310,3990,3750,3840,4110,3540,2370,2010,3630,3570,3450,3450,3060,2070,1560,1830,2970,3060,3210,3090,2820,2610,1830,1800,1770,1890,1860,1800,1860,2730,2670,2730,2760,2790,2250,2160,3030,2850,2760,2760,2670,2160,2160,2970,2940,2910,3150,2880,2220,2160,2970,2940,3000,3090,3210,2550,2520,3330,5100,6060,5670,4620,3660,3120,4200,4620,4650,4740,5220,3960,3330,4740,4470,5040,5190,6570,5202.99,4950,5760,3810,6360,6180,5850,5730,5550,6150,6870,7530,8640,9810,9120,8490,9060,9000,8520,7920,8190,7590,6000,6030,6180,6510,6870,5970,5190,7620,8310,7800,8880,11490,12120,9990,9240,8880,8580,9270,9180,9030,8550,8430,8640,8820,9240,8340,7560,7230,6240,7620,9330,8460,7590,7620,7260,7320,6750,6330,6180,7350,7470,7170,6870,6630,7080,7710,8190,6750,7050,5850,3270,3690,4860,6540,5970,6150,8550,8640,9690,9060,9510,9030,7920,7050,7560,7380,6930,6240,6030,5250,4470,5100,5280,4980,4770,4650,3990,3930,4290,4020,4470,4590,4500,3930,3960,4290,4620,4320,3870,4290,2250,2160,2940,3000,3060,2880,2760,2280,2100,3030,3060,3090,3210,3120,2400,2250,3150,3150,3210,2970,2070,2130,2070,2970,3060,3150,3210,2970,2460,2130,3000,2970,3090,2400,3000,2490,2160,3060,3060,3330,2940,2940,2490,2730,3090,2730,1860,1860,2040,2010,2700,2820,2940,2970,2880,2910,2310,2370,3210,2970,3240,3390,4770,2670,2190,3240,3570,4200,4590,4710,2820,2430,4350,4590,4770,4590,4350,2490,2670,5070,4590,4560,4110,2250,2220,2220,5400,5310,5280,5160,5250,3150,2610,4740,5190,5280,6060,5190,2970,2370,6750,6570,6300,6120,5760,3090,2610,6180,6060,2520,6840,5490,3120,2880,5850,5160,5190,5550,5880,3360,3390,7140,6300,5490,6060,5760,3270,3090,7290,6960,7320,6630,6420,3810,3240,6360,6330,6210,6090,5400,3420,3030,5940,6090,5550,5760,5700,3330,3060,2010,4890,4860";
			
			//
			String data="36000,48280,48700,51500,47700,36500,35700,50100,51500,50000,53000,53900,39900,43200,52000,51000,49400,43300,48800,36600,34700,56300,55600,53900,51700,55100,38800,40600,57800,56100,53300,50600,52700,37900,39800,55000,59700,54600,50800,50500,38000,46900,44300,35000,34500,26700,23800,28100,28500,21300,24400,27900,41000,37000,40900,46900,42600,43800,44200,44600,44299,29600,28200,41400,41600,41000,41400,28200,28900,28200,27670,38100,36600,35300,33400,19700,18800,29600,30100,28500,28400,27900,19400,18800,28200,27900,28600,29300,28300,19800,19100,28900,32800,27300,17500,17400,17000,27000,19700,14800,14900,28600,27300,18700,18500,27200,27800,24200,12600,28200,19400,18400,28500,29400,32400,33700,29400,26100,15000,14100,15200,30000,33600,32500,21800,18100,32400,34200,34400,35900,33800,21600,18900,33100,39100,37800,37600,38600,26700,24400,35100,22700,10500,15400,38400,28000,26500,38000,39200,42100,40700,42200,29100,27100,42800,43900,43700,42800,43100,25500,25100,39700,40600,40000,40400,38700,21400,19700,27700,45200,48300,47600,45800,26300,31500,32500,20000,49500,49400,50200,31200,35000,50700,50600,51500,53400,51400,33000,32700,49700,48900,47200,46100,46600,34100,32800,42800,45400,47000,48300,55600,39700,39800,52400,49300,51500,53100,51100,35900,35500,55800,56900,55400,57082,58800,40500,36500,56300,55500,54500,52900,55600,36300,33200,51600,51500,54100,52000,49100,33400,31800,49100,49000,48100,47800,48600,34000,34500,51500,50000,47100,46000,45100,24800,31000,42800,42700,44900,41700,40600,28400,26800,40000,41600,40700,40800,42300,28800,27900,35400,37100,35900,37100,34900,16800,14300,17100,34500,34500,37600,33200,29300,23400,15300,15600,15200,15100,15700,14700,15400,24300,24900,25000,25800,25700,18100,17900,26300,26800,27000,26300,26500,18300,18200,26500,26800,26800,26900,22900,18800,18300,25900,27200,26000,25400,25300,20000,20000,34100,35700,39400,39700,37400,28800,29600,36400,39400,38200,38800,39300,29700,28300,37900,38100,38300,37900,38000,27000,28500,39000,37200,39400,39200,39500,30300,28800,41700,40400,44800,46500,49100,38800,37200,52700,52500,52200,49600,49200,35700,35000,48200,43500,45100,45500,42500,33400,32700,48900,48800,50000,56400,61000,54800,38300,40700,25900,56000,54100,53800,39200,41000,56600,54000,55100,53200,50900,35900,39500,50900,52800,52900,50300,48100,35500,35900,49300,47200,45500,43400,44800,35100,33900,45400,46400,47000,47100,41800,34100,31800,26700,30300,27600,29500,28400,27900,31900,42700,45600,47300,50000,47700,35600,35700,47500,47500,45000,42500,40400,30600,29400,36600,38400,37900,35700,34700,28800,25000,33200,33700,33200,33200,32600,26600,25500,33500,33000,33400,29200,33300,26100,23700,31300,34200,32100,31700,30900,17800,17800,25700,26000,23600,26100,26300,18000,17300,25700,26700,26600,24500,14100,11600,13300,23700,22500,25900,25700,25700,18300,17900,25900,26300,26600,27500,26200,18100,18000,27900,29900,26800,26800,25800,18500,25200,26600,24700,14900,16100,16500,19100,30400,31600,33600,32800,35100,36400,27800,26400,34000,33900,38200,41800,41400,29600,28500,35300,27400,26984,27900,26600,25800,25400,39600,42300,42200,42800,42000,30800,30600,45200,42200,44100,42200,29400,28600,29500,44900,45900,49000,47300,48000,35300,30900,43400,46800,48800,50700,49000,35500,35100,51800,52600,51100,51600,49800,35300,36000,49800,50500,52600,54100,49500,36900,34900,50100,42100,47100,49400,50400,37900,34600,53600,53300,51700,53700,53500,37200,39400,55600,57100,58800,64700,55200,41800,39200,55600,56900,57200,57700,54100,37700,37400,51300,53100,57900,57900,54500,36600,35600,17200,47200,47700";
			
			
			//monthly数据
			//String data = "38060.200000000004, 38042.32, 62156.0, 86940.0, 145551.015625, 123270.03125, 82537.0, 56628.0, 128310.0, 189713.03125, 231730.0, 166173.0, 141904.99000000022, 83430.0, 99750.0, 126870.0, 159330.0, 160453.0, 96210.0, 77430.0, 137772.99, 245250.0, 242040.0";
			//String data = "1";
			connection = new RConnection(ip);
			
			connection.eval("source('" + address + "')");
			//String function = "RDE_month_forecast('" + data + "')";
			String function = "RDE_nextday_forecast('" + data + "')";
			double[] forecast = connection.eval(function).asDoubles();
			if(forecast != null){
				if(forecast[0] <= 0){
					forecast = null;
				}else{
					System.out.println("预测值: ");
					for (double d : forecast) {
						System.out.println(d);
					}
				}
			}
		}catch(Exception e){
			e.printStackTrace();
		}
	}

}
